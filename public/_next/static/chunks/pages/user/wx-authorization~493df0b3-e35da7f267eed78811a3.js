_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[72],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=a,t.useAmp=function(){return a(o.default.useContext(i.AmpStateContext))};var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r},i=n("lwAK");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,o=void 0!==r&&r,i=e.hasQuery,a=void 0!==i&&i;return n||o&&a}},"/Nde":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return v}));var r=n("lSNA"),o=n.n(r),i=(n("o0o1"),n("ls82"),n("yXPU"),n("+3IH")),a=n("dJ22");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={Code:"common_0001",Message:"\u9700\u8981\u8865\u5145\u6635\u79f0"},l={Code:"common_0002",Message:"\u9700\u8981\u8865\u5145\u9644\u52a0\u4fe1\u606f"},d={Code:"common_0003",Message:"\u9700\u8981\u8865\u5145\u6635\u79f0\u548c\u9644\u52a0\u4fe1\u606f"},f=-4009,p=2,h=-4007,v=function(e){var t=e.webConfig.setSite;return"1"===(t=void 0===t?{}:t).openExtFields},b=function(e){if(function(e){var t=Object(i.a)(e,"data.isMissNickname",!1),n=10===Object(i.a)(e,"data.userStatus"),r=Object(i.a)(e,"data.accessToken","");if(-8e3!==e.code){var o=Object(i.a)(e,"data.uid","");if(Object(a.a)({accessToken:r}),n&&t)throw s({uid:o},d);if(t)throw s({uid:o},u);if(n)throw s({uid:o},l)}}(e),0===e.code||e.code===f||e.code===h){var t=e.code,n=Object(i.a)(e,"data.userStatus",0),r=Object(i.a)(e,"data.uid","");if(0===t&&n===p){var o=Object(i.a)(e,"data.accessToken","");Object(a.a)({accessToken:o}),t=n}if(t)throw{Code:t,Message:Object(i.a)(e,"data.rejectReason",""),uid:r}}}},"4Brf":function(e,t,n){"use strict";var r=n("I+eb"),o=n("g6v/"),i=n("2oRo"),a=n("UTVS"),c=n("hh1v"),s=n("m/L8").f,u=n("6JNq"),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(f,l);var p=f.prototype=l.prototype;p.constructor=f;var h=p.toString,v="Symbol(test)"==String(l("test")),b=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=h.call(e);if(a(d,e))return"";var n=v?t.slice(7,-1):t.replace(b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},"4xcg":function(e,t,n){"use strict";n("pNMO"),n("4Brf"),n("ma9I");var r,o=n("nKUr"),i=n("lwsE"),a=n.n(i),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),f=n.n(d),p=n("Nsbk"),h=n.n(p),v=n("q1tI"),b=n.n(v),m=n("kMSe"),g=n("+3IH"),y=n("g4pe"),j=n.n(y),O=(n("yXV3"),n("rB9j"),function(e,t,n,r){var o=w(e+t),i=[],a=[];if(n||!P(o,i)){n&&document.getElementById(o)&&document.getElementById(o).parentNode.removeChild(document.getElementById(o)),i.push(o);var c=document.createElement("script");c.type="text/javascript",c.id=o;try{e?(c.src=e,c.onloadDone=!1,c.onload=function(){c.onloadDone=!0,a[e]=1},c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||c.onloadDone||(c.onloadDone=!0,a[e]=1)}):t&&(c.text=t),document.getElementsByTagName("head")[0].appendChild(c)}catch(s){console.log(s)}}}),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=0,r=0,o="",i="";for(i=t-e.length%t,r=0;r<i;r+=1)e+="0";for(;n<e.length;)o=x(o,e.substr(n,t)),n+=t;return o},x=function(e,t){for(var n="",r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e.charCodeAt(o)^t.charCodeAt(o);n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(i%52)}return n},P=function(e,t){if("string"===typeof e||"number"===typeof e)for(var n in t)if(t[n]===e)return!0;return!1};function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var S=Object(m.c)("site")(r=Object(m.d)(r=function(e){l()(n,e);var t=k(n);function n(e){return a()(this,n),t.call(this,e)}return s()(n,[{key:"componentDidMount",value:function(){var e,t,n;!function(e){if(-1===e.indexOf("<script"))return e;for(var t=/<script[^\>]*?>([^\x00]*?)<\/script>/gi,n=[];n=t.exec(e);){var r=/<script[^\>]*?src=\"([^\>]*?)\"[^\>]*?(reload=\"1\")?(?:charset=\"([\w\-]+?)\")?><\/script>/i,o=[];(o=r.exec(n[0]))?O(o[1],"",o[2],o[3]):(o=(r=/<script(.*?)>([^\x00]+?)<\/script>/i).exec(n[0]),O("",o[2],-1!==o[1].indexOf("reload=")))}}((null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(n=t.setSite)||void 0===n?void 0:n.siteStat)||"")}},{key:"formatTitle",value:function(){var e=this.props,t=e.site,n=e.title,r=e.showSiteName,o=void 0===r||r?Object(g.a)(t,"webConfig.setSite.siteName","\u6b22\u8fce\u60a8"):"";return n&&""!==n&&(o=""===o?"".concat(n):"".concat(n," - ").concat(o)),o}},{key:"formatKeywords",value:function(){var e=this.props,t=e.site,n=e.keywords,r=Object(g.a)(t,"webConfig.setSite.siteKeywords","\u6b22\u8fce\u60a8");return n&&""!==n&&(r="".concat(n," - ").concat(r)),r}},{key:"formatDescription",value:function(){var e=this.props,t=e.site,n=e.description,r=Object(g.a)(t,"webConfig.setSite.siteIntroduction","\u6b22\u8fce\u60a8");return n&&""!==n&&(r=n),r}},{key:"render",value:function(){var e,t,n,r=(null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(n=t.setSite)||void 0===n?void 0:n.siteFavicon)||"";return Object(o.jsxs)(j.a,{children:[Object(o.jsx)("meta",{name:"keywords",content:this.formatKeywords()}),Object(o.jsx)("meta",{name:"description",content:this.formatDescription()}),r&&Object(o.jsx)("link",{rel:"icon",href:r}),Object(o.jsx)("title",{children:this.formatTitle()})]})}}]),n}(b.a.Component))||r)||r;t.a=S},"5BGO":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("qePV"),n("i6QF"),n("kSko"),n("toAj");var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(e);return Number.isNaN(e)&&(t=0),t<1e4?t:(Number.isInteger(e),"".concat((e/1e4).toFixed(1),"W"))}},"5Tg+":function(e,t,n){var r=n("tiKp");t.f=r},"5f2u":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("lwsE")),a=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("q1tI")),d=n("GDuN"),f=n("Cehy"),p=n("ggaN");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.ButtonViewAdapter,logicalAdapter:p.ButtonLogicalAdapter}));t.default=b},"63fP":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/wx-authorization",function(){return n("WweE")}])},"6x0u":function(e,t,n){"use strict";var r=n("xDBR"),o=n("2oRo"),i=n("0Dky");e.exports=r||!i((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}))},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),i=(r=n("Xuae"))&&r.__esModule?r:{default:r},a=n("lwAK"),c=n("FYa8"),s=n("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[o.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var f=["name","httpEquiv","charSet","itemProp"];function p(e,t){return e.reduce((function(e,t){var n=o.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(d,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(o){var i=!0,a=!1;if(o.key&&"number"!==typeof o.key&&o.key.indexOf("$")>0){a=!0;var c=o.key.slice(o.key.indexOf("$")+1);e.has(c)?i=!1:e.add(c)}switch(o.type){case"title":case"base":t.has(o.type)?i=!1:t.add(o.type);break;case"meta":for(var s=0,u=f.length;s<u;s++){var l=f[s];if(o.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?i=!1:n.add(l);else{var d=o.props[l],p=r[l]||new Set;"name"===l&&a||!p.has(d)?(p.add(d),r[l]=p):i=!1}}}return i}}()).reverse().map((function(e,t){var n=e.key||t;return o.default.cloneElement(e,{key:n})}))}function h(e){var t=e.children,n=(0,o.useContext)(a.AmpStateContext),r=(0,o.useContext)(c.HeadManagerContext);return o.default.createElement(i.default,{reduceComponentsToState:p,headManager:r,inAmpMode:(0,s.isInAmpMode)(n)},t)}h.rewind=function(){};var v=h;t.default=v},"9rcn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("kEK2").PopupWebLayout}});t.PopupViewAdapter=r},ALHM:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("ma9I"),n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("o0o1"),o=n.n(r),i=n("RIqP"),a=n.n(i),c=n("lSNA"),s=n.n(c),u=(n("ls82"),n("yXPU")),l=n.n(u),d=n("rGXy"),f=n("lY1M");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=["closeWindow","chooseImage","uploadImage","getLocalImgData","updateAppMessageShareData","updateTimelineShareData","getNetworkType"],b=!1;function m(){return g.apply(this,arguments)}function g(){return(g=l()(o.a.mark((function e(){var t,n,r,i,c,s,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],n=u.length>1&&void 0!==u[1]?u[1]:[],f.b.env("weixin")){e.next=4;break}return e.abrupt("return");case 4:return r=[],window.wx&&wx.config||(i=new Promise((function(e){var t=document.createElement("script");t.src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",t.onload=function(){return e()},document.body.appendChild(t)})),r.push(i)),e.next=8,Promise.all(r);case 8:if(t&&!b){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(d.getWXConfig)({params:{url:encodeURIComponent(window.location.href)}});case 12:if(0!==(c=e.sent).code||!c.data||!c.data.appId){e.next=21;break}return o=c.data,s={appId:o.appId,timestamp:o.timestamp,nonceStr:o.nonceStr,signature:o.signature},wx&&wx.config(h(h({debug:!1},s),{},{jsApiList:[].concat(v,a()(n))})),wx&&(wx.hasDoneConfig=!0),b=!0,e.abrupt("return",!0);case 21:console.error("\u521d\u59cb\u5316\u5fae\u4fe1jssdk\u5931\u8d25\uff01",c);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}var o}),e)})))).apply(this,arguments)}},B6y2:function(e,t,n){var r=n("I+eb"),o=n("b1O7").values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},"BX/b":function(e,t,n){var r=n("/GqU"),o=n("JBy8").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},C6Q5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWebAdapter=void 0;t.PopupWebAdapter={}},Cehy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("zLVW").ButtonWebLayout}});t.ButtonViewAdapter=r},E2vk:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("ma9I"),n("QWBl"),n("yq1k"),n("tkto"),n("JTJg"),n("FZtP");var r=n("lN2P"),o="/thread/post",i="/indexPages/thread/post/index";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.includes("?"),r=e;return Object.keys(t).forEach((function(e,o){r+="".concat(n||0!==o?"&":"?").concat(e,"=").concat(t[e])})),r}function c(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e.isLogin())return r.a.saveAndLogin(),!1;if(!t.publishNeedBindPhone&&!t.publishNeedBindWechat)return!0;var s="bind".concat(t.publishNeedBindPhone&&!e.mobile?"Mobile":"").concat(t.publishNeedBindWechat&&!e.isBindWechat?"Wechat":""),u="".concat(t.isSmsOpen?"mobile":"").concat("none"!==t.wechatEnv?"wechat":""),l="",d="",f={limitPublishType:n};if("h5"===t.platform){switch(n){case"comment":if("miniProgram"===t.wechatEnv){d="".concat(window.location.origin).concat(i);break}d="".concat(window.location.origin).concat(o);break;case"reply":if("miniProgram"===t.wechatEnv){d="/indexPages/thread/index?id=".concat(c);break}r.a.saveCurrentUrl(),d=r.a.getUrl()}(d=encodeURIComponent(d))&&(f.toPage=d)}switch(u){case"mobile":l=e.mobile?"":a("/user/bind-phone",f);break;case"wechat":l=e.isBindWechat?"":a("/user/wx-bind-qrcode",f);break;case"mobilewechat":switch(s){case"bindMobile":l=e.mobile?"":a("/user/bind-phone",f);break;case"bindWechat":l=e.isBindWechat?"":a("/user/wx-bind-qrcode",f);break;case"bindMobileWechat":f.bindPhone=1,l=e.isBindWechat||e.mobile?"":a("/user/wx-bind-qrcode",f)}}return l&&r.a.saveAndPush(l),"comment"===n&&r.a.setUrl("".concat(window.location.origin).concat(o)),!l}},EUja:function(e,t,n){"use strict";var r=n("ppGB"),o=n("HYAF");e.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},Eqjn:function(e,t,n){"use strict";var r=n("I+eb"),o=n("g6v/"),i=n("6x0u"),a=n("ewvW"),c=n("HAuM"),s=n("m/L8");o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){s.f(a(this),e,{get:c(t),enumerable:!0,configurable:!0})}})},FYa8:function(e,t,n){"use strict";var r;t.__esModule=!0,t.HeadManagerContext=void 0;var o=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.HeadManagerContext=o},FeKq:function(e,t,n){"use strict";var r=n("nKUr"),o=n("q1tI"),i=n.n(o),a="_2e4eibaueT6wTUMciYAIhm",c="L6RyRCsI33EeIf5oROrWQ",s="suBjCmPrUsHYVGgc_GHrR",u="_2JxoKZU3q728CuLaDjhJGT",l="_3Dor0R78AauKIQpLDdTeOR",d="PTq1JRQmgdnQMkKNC8FYJ",f="L-MWngrENnlzM6oSmZ1_4",p="_102Dbv23aaWaF-x1LMxYbx",h="_1Vf6ysnaAfKKwRJW6BIXBC",v=n("MCNy"),b=n.n(v),m=n("TSYQ"),g=n.n(m),y=n("k8W2"),j=n.n(y),O=n("RiVy"),w=function(e){var t=e.onClose,n=e.handleWxShare,o=e.handleH5Share,i=e.show,v=e.createCard,m=e.fromThread;return Object(r.jsx)(j.a,{position:"bottom",visible:i,onClose:t,children:Object(r.jsxs)("div",{className:h,children:[Object(r.jsx)("div",{className:a,children:Object(r.jsxs)("div",{className:g()(u,c),children:[Object(r.jsxs)("div",{className:s,onClick:v,children:[Object(r.jsx)("div",{className:l,children:Object(r.jsx)(b.a,{name:"PictureOutlinedBig",size:20})}),Object(r.jsx)("span",{className:d,children:"\u751f\u6210\u6d77\u62a5"})]}),Object(r.jsxs)("div",{className:s,onClick:o,children:[Object(r.jsx)("div",{className:l,children:Object(r.jsx)(b.a,{name:"PaperClipOutlined",size:20})}),Object(r.jsx)("span",{className:d,children:"\u590d\u5236\u94fe\u63a5"})]}),Object(O.a)()&&!m&&Object(r.jsxs)("div",{className:s,onClick:n,children:[Object(r.jsx)("div",{className:l,children:Object(r.jsx)(b.a,{name:"WeChatOutlined",size:20})}),Object(r.jsx)("span",{className:d,children:"\u5fae\u4fe1\u5206\u4eab"})]})]})}),Object(r.jsx)("div",{className:f,children:Object(r.jsx)("span",{className:p,onClick:t,children:"\u53d6\u6d88"})})]})})};t.a=i.a.memo(w)},FtgW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SUPPLEMENTARY:10}},HZIX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("C6Q5").PopupWebAdapter}});t.PopupLogicalAdapter=r},IvHc:function(e,t,n){"use strict";var r=n("lN2P");t.a=r.a.saveAndLogin},J0pL:function(e,t,n){"use strict";n("pNMO"),n("4Brf");var r,o=n("nKUr"),i=n("lwsE"),a=n.n(i),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),f=n.n(d),p=n("Nsbk"),h=n.n(p),v=n("q1tI"),b=n.n(v),m=n("kMSe"),g=n("4xcg");function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var j=Object(m.c)("site")(r=Object(m.c)("search")(r=Object(m.d)(r=function(e){l()(n,e);var t=y(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"renderView",value:function(){var e=this.props,t=e.pc,n=e.h5,r=e.title,i=void 0===r?"":r,a=e.keywords,c=void 0===a?"":a,s=e.description,u=void 0===s?"":s,l=e.showSiteName,d=void 0===l||l,f="pc"===this.props.site.platform?t||null:n||null;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{title:i,keywords:c,description:u,showSiteName:d}),f]})}},{key:"render",value:function(){return this.renderView()}}]),n}(b.a.Component))||r)||r)||r;t.a=j},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),o=n("WjRb"),i=n("HYAF");r({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},KvOD:function(e,t,n){},L85e:function(e,t,n){"use strict";var r,o=n("nKUr"),i=n("o0o1"),a=n.n(i),c=(n("ls82"),n("yXPU")),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),f=n.n(d),p=n("7W2i"),h=n.n(p),v=n("a1gu"),b=n.n(v),m=n("Nsbk"),g=n.n(m),y=n("q1tI"),j=n.n(y),O=n("kMSe"),w=n("20a2"),x=n("VWce"),P=n("M2Pz"),k=n("5f2u"),S=n.n(k),C=n("wdT/"),N=n.n(C),I=n("sho3"),M=n("dJ22"),E=n("+3IH"),D=n("/Nde");function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var A=!1,_=Object(O.c)("site")(r=Object(O.c)("user")(r=Object(O.c)("h5QrCode")(r=Object(O.c)("commonLogin")(r=Object(O.c)("invite")(r=Object(O.d)(r=function(e){h()(n,e);var t=R(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).authorization=s()(a.a.mark((function e(){var t,n,o,i,c,s,u,l,d,f,p,h,v,b,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.router,o=t.invite,i=n.query,c=i.code,s=i.sessionId,u=i.sessionToken,l=i.state,d=i.type,e.prev=2,!A){e.next=5;break}return e.abrupt("return");case 5:return A=!0,e.next=8,Object(I.h5WechatCodeLogin)({timeout:1e4,params:{code:c,sessionId:s,sessionToken:u,state:l,inviteCode:o.getInviteCode(n)}});case 8:if(f=e.sent,A=!1,-7016!==f.code){e.next=14;break}return p=f.data,h=p.sessionToken,v=p.nickname,n.push({pathname:"wx-select",query:{sessionToken:h,nickname:v}}),e.abrupt("return");case 14:if(0!==f.code||"h5"!==d){e.next=21;break}return b=Object(E.a)(f,"data.accessToken"),m=Object(E.a)(f,"data.uid"),Object(M.a)({accessToken:b}),r.props.user.updateUserInfo(m),window.location.href="/",e.abrupt("return");case 21:if(0!==f.code){e.next=25;break}return r.setState({loginTitle:"\u5df2\u6210\u529f\u767b\u5f55"}),r.props.h5QrCode.isBtn=!1,e.abrupt("return");case 25:throw Object(D.d)(f),{Code:f.code,Message:f.msg};case 29:throw e.prev=29,e.t0=e.catch(2),A=!1,r.setState({loginTitle:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u4e8c\u7ef4\u7801\u91cd\u65b0\u626b\u7801"}),r.props.h5QrCode.isBtn=!1,N.a.error({content:e.t0.Message}),{Code:"ulg_9999",Message:"\u7f51\u7edc\u9519\u8bef",error:e.t0};case 36:case"end":return e.stop()}}),e,null,[[2,29]])}))),r.state={loginTitle:"\u4f60\u786e\u5b9a\u8981\u6388\u6743\u767b\u5f55".concat(e.site.siteName,"\u5417\uff1f")},r}return f()(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:x.a.container,children:[Object(o.jsx)(P.a,{hideInfo:!0,mode:"login"}),Object(o.jsxs)("div",{className:x.a.content,children:[Object(o.jsx)("div",{className:x.a.title,children:this.state.loginTitle}),this.props.h5QrCode.isBtn?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(S.a,{className:x.a.button,type:"primary",onClick:this.authorization,children:"\u786e\u5b9a"})}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)(S.a,{className:x.a.exit,onClick:function(){e.setState({loginTitle:"\u5df2\u53d6\u6d88\u767b\u5f55"}),e.props.h5QrCode.isBtn=!1,window.wx&&window.wx.ready((function(){wx.closeWindow()}))},children:"\u9000\u51fa"})]})]})}}]),n}(j.a.Component))||r)||r)||r)||r)||r)||r;t.a=Object(w.withRouter)(_)},M2Pz:function(e,t,n){"use strict";n("ma9I"),n("4l63"),n("rB9j"),n("hByQ"),n("EnZy");var r,o=n("nKUr"),i=n("lSNA"),a=n.n(i),c=n("J4zp"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),f=n.n(d),p=n("7W2i"),h=n.n(p),v=n("a1gu"),b=n.n(v),m=n("Nsbk"),g=n.n(m),y=n("q1tI"),j=n.n(y),O=n("vqvd"),w=n("MCNy"),x=n.n(w),P=n("wdT/"),k=n.n(P),S=n("kMSe"),C=n("B5JU"),N=n.n(C),I=n("kjBj"),M=n("RiVy"),E=n("+3IH"),D=n("rOX+"),R=n.n(D),A=n("IvHc"),_=n("5BGO"),W=n("lN2P"),T=n("FeKq");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var q=Object(S.c)("site")(r=Object(S.c)("user")(r=Object(S.c)("index")(r=Object(S.d)(r=function(e){h()(n,e);var t=U(n);function n(){var e;l()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1,height:180,loadWeiXin:!1,show:!1},e.domRef=j.a.createRef(null),e.logoImg="/dzq-img/admin-logo-x2.png",e.onClose=function(){e.setState({visible:!1})},e.onCancel=function(){e.setState({show:!1})},e.handleH5Share=function(){var t,n=(null===(t=document)||void 0===t?void 0:t.title)||"";R()({title:n,path:"/".concat(location.search)}),k.a.info({content:"\u590d\u5236\u94fe\u63a5\u6210\u529f"}),e.onCancel()},e.handleWxShare=function(){e.setState({visible:!0}),e.onCancel()},e.handleClick=function(){e.props.user.isLogin()?e.setState({show:!0}):Object(A.a)({url:"/user/login"})},e.createCard=function(){N.a.push({url:"/card"})},e}return f()(n,[{key:"getBgHeaderStyle",value:function(e){var t,n=this.props.site.webConfig||{};return null!==(t=n.setSite)&&void 0!==t&&t.siteBackgroundImage?{backgroundImage:"url(".concat(n.setSite.siteBackgroundImage,")")}:e?{background:e}:{background:"#2469f6"}}},{key:"getLogo",value:function(){var e,t=this.props.site.webConfig||{};return null!==(e=t.setSite)&&void 0!==e&&e.siteHeaderLogo?t.setSite.siteHeaderLogo:this.logoImg}},{key:"getSiteInfo",value:function(){var e=this.props.site.webConfig,t={countUsers:0,countThreads:0,siteAuthor:"",createDays:0};e&&e.other&&(t.countUsers=e.other.countUsers,t.countThreads=e.other.countThreads);var n=Object(E.a)(e,"setSite.siteAuthor.username",""),r=Object(E.a)(e,"setSite.siteInstall","").split(" "),o=s()(r,1)[0],i=Date.parse(o),a=Date.parse(new Date),c=Object(_.a)(parseInt(Math.abs(i-a)/1e3/60/60/24,10));return t.siteAuthor=n,t.createDays=c,t}},{key:"componentDidMount",value:function(){this.setState({loadWeiXin:Object(M.a)()}),this.domRef.current&&this.setState({height:this.domRef.current.clientHeight})}},{key:"returnPage",value:function(){var e,t,n;(null===(e=window)||void 0===e||null===(t=e.history)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.idx)<1?W.a.gotoIndex():N.a.back()}},{key:"render",value:function(){var e=this.props,t=e.bgColor,n=e.hideInfo,r=void 0!==n&&n,i=e.style,a=void 0===i?{}:i,c=e.digest,s=void 0===c?null:c,u=e.mode,l=void 0===u?"":u,d=e.site,f=this.state,p=f.visible,h=f.loadWeiXin,v=this.getSiteInfo(),b=v.countUsers,m=v.countThreads,g=v.siteAuthor,y=v.createDays,j=Object(E.a)(d,"webConfig.setSite.siteHeaderLogo","");return Object(o.jsxs)("div",{ref:this.domRef,className:"".concat(O.a.container," ").concat(l?O.a["container_mode_".concat(l)]:""),style:L(L({},a),this.getBgHeaderStyle(t)),children:[r&&"join"!==l&&Object(o.jsxs)("div",{className:O.a.topBar,children:["login"===l?Object(o.jsxs)("div",{onClick:this.returnPage,className:O.a.left,children:[Object(o.jsx)(x.a,{name:"LeftOutlined"}),"\u8fd4\u56de"]}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("div",{children:Object(o.jsx)(x.a,{onClick:function(){return W.a.gotoIndex()},name:"HomeOutlined",color:"#fff",size:20})})]}),"join"!==l||j?Object(o.jsx)("div",{className:O.a.logoBox,children:Object(o.jsx)("img",{className:O.a.logo,mode:"aspectFit",src:this.getLogo()})}):Object(o.jsx)("div",{className:O.a.joinLog,children:Object(o.jsx)("img",{className:O.a.logo,mode:"aspectFit",src:"/dzq-img/join-banner-bg.png"})}),s&&Object(o.jsxs)("div",{className:O.a.digest,children:[Object(o.jsxs)("div",{className:O.a.left,children:["\u7ad9\u957f ",s.admin]}),Object(o.jsxs)("div",{className:O.a.right,children:["\u5df2\u521b\u5efa ",s.day,"\u5929"]})]}),!r&&Object(o.jsxs)("ul",{className:O.a.siteInfo,children:[Object(o.jsxs)("li",{className:O.a.item,children:[Object(o.jsx)("span",{className:O.a.text,children:"\u6210\u5458"}),Object(o.jsx)("span",{className:O.a.content,children:Object(_.a)(b)})]}),Object(o.jsxs)("li",{className:O.a.item,children:[Object(o.jsx)("span",{className:O.a.text,children:"\u5185\u5bb9"}),Object(o.jsx)("span",{className:O.a.content,children:Object(_.a)(m)})]}),Object(o.jsxs)("li",{className:O.a.item,onClick:this.handleClick,children:[Object(o.jsx)(x.a,{className:O.a.shareIcon,color:"#fff",name:"ShareAltOutlined"}),Object(o.jsx)("span",{className:O.a.shareText,children:"\u5206\u4eab"})]})]}),Object(o.jsx)(T.a,{show:this.state.show,onClose:this.onCancel,handleH5Share:this.handleH5Share,handleWxShare:this.handleWxShare,createCard:this.createCard}),"join"===l&&Object(o.jsxs)("ul",{className:"".concat(O.a.siteInfo," ").concat(O.a.joinInfo),children:[Object(o.jsxs)("li",{className:O.a.item,children:[Object(o.jsx)("span",{className:O.a.text,children:"\u7ad9\u957f"}),Object(o.jsx)("span",{className:O.a.content,children:g})]}),Object(o.jsxs)("li",{className:O.a.item,children:[Object(o.jsx)("span",{className:O.a.text,children:"\u5df2\u521b\u5efa"}),Object(o.jsxs)("span",{className:O.a.content,children:[y,"\u5929"]})]})]}),h&&Object(o.jsx)(I.a,{visible:p,onClose:this.onClose})]})}}]),n}(j.a.Component))||r)||r)||r)||r;t.a=q},QIpd:function(e,t,n){var r=n("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},QcND:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return X}));n("ma9I"),n("yq1k"),n("4mDm"),n("Rfxz"),n("07d7"),n("rB9j"),n("JTJg"),n("PKPk"),n("Rm1S"),n("UxlC"),n("3bBZ"),n("Kz25");var r=n("nKUr"),o=n("o0o1"),i=n.n(o),a=n("lSNA"),c=n.n(a),s=(n("ls82"),n("yXPU")),u=n.n(s),l=n("lwsE"),d=n.n(l),f=n("PJYZ"),p=n.n(f),h=n("W8MJ"),v=n.n(h),b=n("7W2i"),m=n.n(b),g=n("a1gu"),y=n.n(g),j=n("Nsbk"),O=n.n(j),w=n("q1tI"),x=n.n(w),P=n("kMSe"),k=n("n4oF"),S=n("zDaA"),C=n("sho3"),N=n("B5JU"),I=n.n(N),M=n("20a2"),E=n("bK+J"),D=n("/Nde"),R=n("MCNy"),A=n.n(R),_=n("pGE/"),W=n("Tk/S"),T=n("Xrmz"),B=n("ALHM"),L=n("E2vk"),U=n("yO9+"),q=n("lN2P"),F=n("FtgW");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function X(t,n){var o,a=Object(P.c)("site")(o=Object(P.c)("user")(o=Object(P.c)("thread")(o=Object(P.c)("emotion")(o=Object(P.c)("commonLogin")(o=Object(P.d)(o=function(o){m()(c,o);var a=K(c);function c(e){var t,n;d()(this,c),(t=a.call(this,e)).handleWxShare=t.handleWxShare.bind(p()(t)),t.canPublish=t.canPublish.bind(p()(t));var r=e.serverUser,o=e.serverSite,i=e.serverEmotion,s=e.user,u=e.site,l=e.emotion;return o&&o.platform&&u.setPlatform(o.platform),o&&o.closeSite&&u.setCloseSiteConfig(o.closeSite),o&&o.webConfig&&u.setSiteConfig(o.webConfig),o&&o.pluginConfig&&u.setPluginConfig(o.pluginConfig),r&&r.userInfo&&s.setUserInfo(r.userInfo),r&&r.userPermissions&&s.setUserPermissions(r.userPermissions),r&&r.userPermissions&&s.setUserPermissions(r.userPermissions),i&&i.emojis&&l.setEmoji(i.emojis),n=Object(k.a)()?!o:!(u&&u.webConfig),t.state={isNoSiteData:n,isPass:!!Object(k.a)()},t}return v()(c,null,[{key:"getInitialProps",value:function(){var n=u()(i.a.mark((function n(r){var o,a,c,s,u,l,d,f,p,h,v,b;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.ctx=r,o="static",a={},u={},!Object(k.a)()){n.next=30;break}return v=r.req.headers,o=v&&!_.a.isEmptyObject(v)?Object(S.a)(v["user-agent"]):"static",Object(C.readEmoji)({},r),n.next=11,Object(C.readForum)({},r);case 11:if(a=n.sent,s={platform:o,closeSite:-3005===a.code?a.data:null,webConfig:a&&a.data||null},!a||0!==a.code||null===(f=a)||void 0===f||null===(p=f.data)||void 0===p||null===(h=p.user)||void 0===h||!h.userId){n.next=22;break}return n.next=16,Object(C.readUser)({params:{userId:a.data.user.userId}},r);case 16:return c=n.sent,n.next=19,Object(C.readPermissions)({},r);case 19:d=n.sent,l=c&&0===c.code?c.data:null,d=d&&0===d.code?d.data:null;case 22:return n.next=24,Object(C.readPluginList)({},r);case 24:if(0===(b=n.sent).code&&(s.pluginConfig=b.data),!a||0!==a.code||!t.getInitialProps){n.next=30;break}return n.next=29,t.getInitialProps(r,{user:l,site:s});case 29:u=n.sent;case 30:return n.abrupt("return",H(H({},u),{},{serverSite:s,serverUser:{userInfo:l,userPermissions:d}}));case 33:return n.prev=33,n.t0=n.catch(0),console.log("err",n.t0),n.abrupt("return",{serverSite:{},serverUser:{}});case 37:case"end":return n.stop()}}),n,null,[[0,33]])})));return function(e){return n.apply(this,arguments)}}()}]),v()(c,[{key:"componentDidMount",value:function(){var e=u()(i.a.mark((function e(){var t,r,o,a,c,s,u,l,d,f,p,h,v,b,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.isNoSiteData,o=this.props,a=o.serverUser,c=o.serverSite,s=o.user,u=o.site,l=o.emotion,f=!1,null!==(t=l.emojis)&&void 0!==t&&t.length||l.fetchEmoji(),u.setPlatform(Object(S.a)(window.navigator.userAgent)),!r){e.next=20;break}if(d=(null===c||void 0===c?void 0:c.webConfig)||null){e.next=18;break}return e.next=10,Object(C.readForum)({});case 10:return(p=e.sent).data&&u.setSiteConfig(p.data),e.next=14,Object(C.readPluginList)();case 14:0===(h=e.sent).code&&u.setPluginConfig(h.data),this.setAppCommonStatus(p),d=p.data||null;case 18:e.next=21;break;case 20:d=u?u.webConfig:null;case 21:if(u.initUserLoginEntryStatus(),!d||!d.user){e.next=38;break}if(s&&s.userInfo||a&&a.userInfo){e.next=35;break}return e.next=26,Object(C.readUser)({params:{userId:d.user.userId}});case 26:return v=e.sent,e.next=29,Object(C.readPermissions)({});case 29:0===(b=e.sent).code&&b.data&&s.setUserPermissions(b.data),v.data&&s.setUserInfo(v.data),f=!!v.data,e.next=36;break;case 35:f=!0;case 36:e.next=39;break;case 38:f=!1;case 39:return s.updateLoginStatus(f),m=this.isPass(r),n&&m&&(m=n(m)),this.setState({isPass:m}),e.next=45,Object(B.a)(d&&d.passport&&d.passport.offiaccountOpen);case 45:e.sent&&(this.handleWxShare(this.props.router.asPath),this.props.router.events.on("routeChangeComplete",this.handleWxShare));case 47:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleWxShare",value:function(e){if(window.wx&&window.wx.hasDoneConfig){var t=this.props,n=t.user,r=t.site,o=n.userInfo,i=r.webConfig.setSite,a=i.siteName,c=i.siteIntroduction,s=i.siteHeaderLogo,u=i.siteFavicon,l=o||{},d=l.nickname,f=l.avatarUrl,p=l.signature,h=l.id,v=document.title,b=c?c.length>35?"".concat(c.substr(0,35),"..."):c:"\u5728\u8fd9\u91cc\uff0c\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9",m=window.location.href,g=s||u;e.match(/\/thread\/\d+/)||e.match(/\/user\/\d+/)||("/my"===e&&d&&(v="".concat(d,"\u7684\u4e3b\u9875"),g=f,b=p?p.length>35?"".concat(p.substr(0,35),"..."):p:"\u5728\u8fd9\u91cc\uff0c\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9",m="".concat(window.location.origin,"/user/").concat(h)),(e.includes("/forum/partner-invite")||e.match(/\/user\/(username|wx|phone)-login/)||e.includes("/user/register"))&&(v="\u9080\u8bf7\u60a8\u52a0\u5165".concat(a)),(e.includes("/invite")||"/"===e)&&(v="".concat(d,"\u9080\u8bf7\u60a8\u52a0\u5165").concat(a)),e.includes("/message?page=chat")&&(v="\u6211\u7684\u79c1\u4fe1 - ".concat(a),m="".concat(window.location.origin,"/message")),Object(W.a)(v,b,m,g))}}},{key:"setAppCommonStatus",value:function(e){var t=this.props.site;switch([U.j,U.m,U.g,U.l,U.h,U.n,U.k].includes(e.code)&&q.a.saveCurrentUrl(),e.code){case 0:break;case U.u:t.setCloseSiteConfig(e.data),I.a.redirect({url:"/close"});break;case U.e:break;case U.w:Object(E.a)(),window.location.reload();break;case U.f:I.a.redirect({url:"/404"});break;case U.j:Object(E.a)(),q.a.gotoLogin();break;case U.m:Object(E.a)(),q.a.saveAndRedirect("/user/register");break;case U.g:I.a.push({url:"/user/status?statusCode=2"});break;case U.l:I.a.push({url:"/user/status?statusCode=-4007"});break;case U.h:I.a.push({url:"/user/status?statusCode=-4009"});break;case U.n:q.a.saveAndRedirect("/user/supplementary");break;case U.i:I.a.redirect({url:"/"});break;case U.k:q.a.saveAndRedirect("/forum/partner-invite");break;default:t.setErrPageType("site"),I.a.redirect({url:"/500"})}}},{key:"checkJump",value:function(){var e=this.props.router,t=q.a.getUrl();if(t)if(new URL(t).pathname===e.asPath)q.a.clear();else if("/"===e.asPath)return q.a.restore(),!1;return!0}},{key:"isPass",value:function(e){var t=this.props,n=t.site,r=t.router,o=t.user,i=t.commonLogin;if(n&&n.webConfig){var a,c;if(e&&this.setState({isNoSiteData:!1}),"/close"!==r.asPath&&n.closeSiteConfig)return I.a.redirect({url:"/close"}),!1;if(o.isLogin()){if(!n.isOffiaccountOpen&&!n.isMiniProgramOpen&&"/user/bind-phone"!==r.asPath&&n.isSmsOpen&&!o.mobile)return q.a.saveAndRedirect("/user/bind-phone"),!1;if("/user/bind-nickname"!==r.asPath&&!o.nickname)return i.needToCompleteExtraInfo=o.userStatus===F.a.SUPPLEMENTARY,q.a.saveAndRedirect("/user/bind-nickname"),!1;if(o.userStatus===D.b&&!U.t.includes(r.pathname))return I.a.replace({url:"/user/status?statusCode=".concat(o.userStatus)}),!1}if("pay"===(null===n||void 0===n||null===(a=n.webConfig)||void 0===a||null===(c=a.setSite)||void 0===c?void 0:c.siteMode)){if(U.x.some((function(e){return r.asPath.match(e)})))return this.checkJump(),!0;var s=r.query.inviteCode,u=s?"?inviteCode=".concat(s):"";if(null===o||void 0===o||!o.paid)return q.a.saveAndRedirect("/forum/partner-invite".concat(u)),!1}}return this.checkJump()}},{key:"filterProps",value:function(e){var t=H({},e);return delete t.serverUser,delete t.serverSite,delete t.user,delete t.site,t}},{key:"canPublish",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.props,r=n.user,o=n.site,i=n.thread;return Object(L.a)(r,o,t,null===i||void 0===i||null===(e=i.threadData)||void 0===e?void 0:e.threadId)}},{key:"render",value:function(){var e=this.state,n=e.isNoSiteData,o=e.isPass;return"static"===this.props.site.platform?null:n||!o?Object(r.jsx)("div",{className:T.a.loadingBox,children:Object(r.jsx)(A.a,{className:T.a.loading,name:"LoadingOutlined",size:"large"})}):Object(r.jsx)(t,H({canPublish:this.canPublish},this.filterProps(this.props)))}}]),c}(x.a.Component))||o)||o)||o)||o)||o)||o;return Object(M.withRouter)(a)}}).call(this,n("ntbh"))},R5XZ:function(e,t,n){var r=n("I+eb"),o=n("2oRo"),i=n("NC/Y"),a=[].slice,c=function(e){return function(t,n){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},RiVy:function(e,t,n){"use strict";function r(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent.toLowerCase();return/micromessenger/.test(e)}n.d(t,"a",(function(){return r}))},"Tk/S":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lY1M");function o(e,t,n,o){r.b.env("weixin")&&window.wx&&window.wx.ready((function(){var r={title:e||"Discuz! Q",desc:t&&""!=t?t:e||"Discuz! Q",link:n||window.location.href,imgUrl:o};wx.updateAppMessageShareData(r),wx.updateTimelineShareData(r)}))}},WweE:function(e,t,n){"use strict";n.r(t);var r,o=n("nKUr"),i=n("lwsE"),a=n.n(i),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),f=n.n(d),p=n("Nsbk"),h=n.n(p),v=n("q1tI"),b=n.n(v),m=n("L85e"),g=n("kMSe"),y=n("J0pL"),j=n("zVgw"),O=n("xfbP"),w=n("QcND");function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var P=Object(g.c)("site")(r=function(e){l()(n,e);var t=x(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return Object(o.jsx)(y.a,{h5:Object(o.jsx)(m.a,{}),pc:Object(o.jsx)(j.a,{jumpUrl:"/user/login"}),title:"\u6388\u6743\u767b\u5f55"})}}]),n}(b.a.Component))||r;t.default=Object(w.a)(Object(O.a)("weixin")(P))},Xol8:function(e,t,n){var r=n("hh1v"),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},Xrmz:function(e,t,n){"use strict";t.a={loadingBox:"rKwiNl2JOBH1dcaoggUsN",loading:"_3_kaucwAnhguPyKqHJUwsL"}},Xuae:function(e,t,n){"use strict";var r=n("RIqP"),o=n("lwsE"),i=n("W8MJ"),a=(n("PJYZ"),n("7W2i")),c=n("a1gu"),s=n("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}t.__esModule=!0,t.default=void 0;var l=n("q1tI"),d=function(e){a(n,e);var t=u(n);function n(e){var i;return o(this,n),(i=t.call(this,e))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(r(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(l.Component);t.default=d},"dG/n":function(e,t,n){var r=n("Qo9l"),o=n("UTVS"),i=n("5Tg+"),a=n("m/L8").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},g4pe:function(e,t,n){e.exports=n("8Kt/")},ggaN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("KvOD").ButtonWebAdapter}});t.ButtonLogicalAdapter=r},hByQ:function(e,t,n){"use strict";var r=n("14Sl"),o=n("glrk"),i=n("HYAF"),a=n("Ep9I"),c=n("FMNM");r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=o(e),s=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var l=c(i,s);return a(i.lastIndex,u)||(i.lastIndex=u),null===l?-1:l.index}]}))},i6QF:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isInteger:n("Xol8")})},k8W2:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),a=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),f=n("9rcn"),p=n("HZIX"),h=n("AItd");function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var b=function(e){(0,a.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.PopupViewAdapter,logicalAdapter:p.PopupLogicalAdapter}));t.default=b,(0,u.default)(b,"defaultProps",{position:"bottom",maskClosable:!0,onClose:h.noop,containerClassName:""})},kEK2:function(e,t,n){"use strict";var r=n("TqRt");n("Eqjn"),Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWebLayout=function(e){var t=e.position,n=e.visible,r=e.onClose,p=e.maskClosable,h=e.children,v=e.className,b=e.containerClassName,m=e.withCloseIcon,g=e.popupContainer,y=(0,i.default)(e,d),j=(0,l.useConfig)().clsPrefix;a.default.useEffect((function(){n?f.afterOpen():f.beforeClose()}),[n]);var O=a.default.createElement("div",(0,o.default)({className:(0,u.default)("".concat(j,"-popup"),v)},y),a.default.createElement("div",{className:(0,u.default)("".concat(j,"-popup__overlay"),{"is-shown":n}),onClick:function(){p&&r()}}),a.default.createElement("div",{className:(0,u.default)("".concat(j,"-popup__container"),b,t,{"is-shown":n,"is-expanded":n})},m&&a.default.createElement("div",{className:(0,u.default)("".concat(j,"-popup__close-icon")),onClick:function(){r()}},a.default.createElement(s.default,{name:"CloseOutlined"})),h));if("undefined"===typeof window)return O;return c.default.createPortal(O,g||document.getElementsByTagName("body")[0])};var o=r(n("pVnL")),i=r(n("QILm")),a=r(n("q1tI")),c=r(n("i8i4")),s=r(n("MCNy")),u=r(n("TSYQ")),l=n("VTYn"),d=["position","visible","onClose","maskClosable","children","className","containerClassName","withCloseIcon","popupContainer"];"undefined"!==typeof document&&("scrollingElement"in document||function(){function e(e){return window.getComputedStyle?getComputedStyle(e,null):e.currentStyle}var t;function n(e){return"none"!=e.display&&!("collapse"==e.visibility&&/^table-(.+-group|row|column)$/.test(e.display))}var r=function(){if(function(){if(!/^CSS1/.test(document.compatMode))return!1;if(void 0===t){var e=document.createElement("iframe");e.style.height="1px",(document.body||document.documentElement||document).appendChild(e);var n=e.contentWindow.document;n.write('<!DOCTYPE html><div style="height:9999em">x</div>'),n.close(),t=n.documentElement.scrollHeight>n.body.scrollHeight,e.parentNode.removeChild(e)}return t}())return document.documentElement;var r=document.body;return(r=r&&!/body/i.test(r.tagName)?function(e){for(var t,n=e;n=n.nextSibling;)if(1==n.nodeType&&(t=n,window.HTMLBodyElement?t instanceof HTMLBodyElement:/body/i.test(t.tagName)))return n;return null}(r):r)&&function(t){var r=e(t),o=e(document.documentElement);return"visible"!=r.overflow&&"visible"!=o.overflow&&n(r)&&n(o)}(r)?null:r};Object.defineProperty?Object.defineProperty(document,"scrollingElement",{get:r}):document.__defineGetter__?document.__defineGetter__("scrollingElement",r):(document.scrollingElement=r(),document.attachEvent&&document.attachEvent("onpropertychange",(function(){"activeElement"==window.event.propertyName&&(document.scrollingElement=r())})))}());var f=function(e){var t;return{afterOpen:function(){t=document.scrollingElement.scrollTop,document.body.classList.add(e),document.body.style.top="".concat(-t,"px")},beforeClose:function(){document.body.classList.remove(e),t&&(document.scrollingElement.scrollTop=t)}}}("modal-open")},kSko:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},kjBj:function(e,t,n){"use strict";var r=n("nKUr"),o=n("q1tI"),i=n.n(o),a="_1kDh2--6iLqFy24elIEF8W",c="MxqNMMmx4_LROeX89EpaM",s="_3gd6NPZNhb1URmq2JSkQ6e",u="_1ikaKu2bOCOWDMK69kc9gJ",l=n("k8W2"),d=n.n(l),f=n("z6Ap"),p=function(e){var t=e.visible,n=void 0!==t&&t,o=e.onClose,i=void 0===o?f.e:o,l=e.type,p=void 0===l?"":l;return Object(r.jsx)(d.a,{position:"top",visible:n,onClose:i,children:Object(r.jsxs)("div",{className:"".concat("thread"===p?u:a),children:[Object(r.jsx)("img",{src:"/dzq-img/sharePoint.png",className:c}),Object(r.jsx)("img",{src:"/dzq-img/shareKnow.png",className:s,onClick:i})]})})};t.a=i.a.memo(p)},lwAK:function(e,t,n){"use strict";var r;t.__esModule=!0,t.AmpStateContext=void 0;var o=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=o},pNMO:function(e,t,n){"use strict";var r=n("I+eb"),o=n("2oRo"),i=n("0GbY"),a=n("xDBR"),c=n("g6v/"),s=n("STAE"),u=n("/b8u"),l=n("0Dky"),d=n("UTVS"),f=n("6LWA"),p=n("hh1v"),h=n("glrk"),v=n("ewvW"),b=n("/GqU"),m=n("wE6v"),g=n("XGwC"),y=n("fHMY"),j=n("33Wh"),O=n("JBy8"),w=n("BX/b"),x=n("dBg+"),P=n("Bs8V"),k=n("m/L8"),S=n("0eef"),C=n("kRJp"),N=n("busE"),I=n("VpIT"),M=n("93I0"),E=n("0BK2"),D=n("kOOl"),R=n("tiKp"),A=n("5Tg+"),_=n("dG/n"),W=n("1E5z"),T=n("afO8"),B=n("tycR").forEach,L=M("hidden"),U="Symbol",q=R("toPrimitive"),F=T.set,J=T.getterFor(U),H=Object.prototype,K=o.Symbol,X=i("JSON","stringify"),Q=P.f,z=k.f,V=w.f,Y=S.f,G=I("symbols"),Z=I("op-symbols"),$=I("string-to-symbol-registry"),ee=I("symbol-to-string-registry"),te=I("wks"),ne=o.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,oe=c&&l((function(){return 7!=y(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Q(H,t);r&&delete H[t],z(e,t,n),r&&e!==H&&z(H,t,r)}:z,ie=function(e,t){var n=G[e]=y(K.prototype);return F(n,{type:U,tag:e,description:t}),c||(n.description=t),n},ae=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ce=function(e,t,n){e===H&&ce(Z,t,n),h(e);var r=m(t,!0);return h(n),d(G,r)?(n.enumerable?(d(e,L)&&e[L][r]&&(e[L][r]=!1),n=y(n,{enumerable:g(0,!1)})):(d(e,L)||z(e,L,g(1,{})),e[L][r]=!0),oe(e,r,n)):z(e,r,n)},se=function(e,t){h(e);var n=b(t),r=j(n).concat(fe(n));return B(r,(function(t){c&&!ue.call(n,t)||ce(e,t,n[t])})),e},ue=function(e){var t=m(e,!0),n=Y.call(this,t);return!(this===H&&d(G,t)&&!d(Z,t))&&(!(n||!d(this,t)||!d(G,t)||d(this,L)&&this[L][t])||n)},le=function(e,t){var n=b(e),r=m(t,!0);if(n!==H||!d(G,r)||d(Z,r)){var o=Q(n,r);return!o||!d(G,r)||d(n,L)&&n[L][r]||(o.enumerable=!0),o}},de=function(e){var t=V(b(e)),n=[];return B(t,(function(e){d(G,e)||d(E,e)||n.push(e)})),n},fe=function(e){var t=e===H,n=V(t?Z:b(e)),r=[];return B(n,(function(e){!d(G,e)||t&&!d(H,e)||r.push(G[e])})),r};(s||(N((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===H&&n.call(Z,e),d(this,L)&&d(this[L],t)&&(this[L][t]=!1),oe(this,t,g(1,e))};return c&&re&&oe(H,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return J(this).tag})),N(K,"withoutSetter",(function(e){return ie(D(e),e)})),S.f=ue,k.f=ce,P.f=le,O.f=w.f=de,x.f=fe,A.f=function(e){return ie(R(e),e)},c&&(z(K.prototype,"description",{configurable:!0,get:function(){return J(this).description}}),a||N(H,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:K}),B(j(te),(function(e){_(e)})),r({target:U,stat:!0,forced:!s},{for:function(e){var t=String(e);if(d($,t))return $[t];var n=K(t);return $[t]=n,ee[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:function(e,t){return void 0===t?y(e):se(y(e),t)},defineProperty:ce,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(v(e))}}),X)&&r({target:"JSON",stat:!0,forced:!s||l((function(){var e=K();return"[null]"!=X([e])||"{}"!=X({a:e})||"{}"!=X(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!ae(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),o[1]=t,X.apply(null,o)}});K.prototype[q]||C(K.prototype,q,K.prototype.valueOf),W(K,U),E[L]=!0},rGXy:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getWXConfig=function(){return p.apply(this,arguments)};var o=r(n("o0o1")),i=r(n("lSNA")),a=r(n("QILm"));n("ls82");var c=r(n("yXPU")),s=n("0QFe"),u=r(n("m4Ii"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={messageText:{type:"string",required:!0},recipientUsername:{type:"string",required:!0},imageUrl:{type:"string"},attachmentId:{type:"number"}};function p(){return(p=(0,c.default)(o.default.mark((function e(){var t,n,r,i,c,l,p,h,v=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.prev=1,n=t.params,r=void 0===n?{}:n,i=t.data,c=void 0===i?{}:i,l=(0,a.default)(t,["params","data"]),p=d(d({url:"/apiv3/offiaccount/jssdk",method:"GET",params:r,data:c},l),{},{validateRules:f}),e.next=6,u.default.dispatcher(p);case 6:return h=e.sent,e.abrupt("return",h);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",(0,s.handleError)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},"rOX+":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("+2oP"),n("07d7"),n("rB9j"),n("JfAA"),n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.h5Share=i,t.default=void 0;var o=r(n("cDf5"));function i(e){var t,n="",r="";switch((0,o.default)(e)){case"string":n=e;break;default:(r=(e=e||{}).path||"")&&/^\/.*/.test(r)&&(r=r.slice(1)),n=e.title}n=(n=(n=(n=(n=n||"Discuz!Q").toString().replace(/<img(?:.|\s)*?>/g,"")).toString().replace(/(<\/?br.*?>)/gi,"")).toString().replace(/(<\/?p.*?>)/gi,"")).toString().replace(/\s+/g,""),n="".concat(n.substring(0,17));var i=window&&window.location&&window.location.origin||"";t=e.url||"".concat(i,"/").concat(r);var a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),a.readOnly=!0,a.id="copyInp";var c=document.execCommand("Copy");return a.setAttribute("onfocus",void 0),a.blur(),a.className="oInput",a.style.display="none",c}var a=i;t.default=a},toAj:function(e,t,n){"use strict";var r=n("I+eb"),o=n("ppGB"),i=n("QIpd"),a=n("EUja"),c=n("0Dky"),s=1..toFixed,u=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)};r({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}))},{toFixed:function(e){var t,n,r,c,s=i(this),d=o(e),f=[0,0,0,0,0,0],p="",h="0",v=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*f[n],f[n]=r%1e7,r=u(r/1e7)},b=function(e){for(var t=6,n=0;--t>=0;)n+=f[t],f[t]=u(n/e),n=n%e*1e7},m=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==f[e]){var n=String(f[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*l(2,69,1))-69)<0?s*l(2,-t,1):s/l(2,t,1),n*=4503599627370496,(t=52-t)>0){for(v(0,n),r=d;r>=7;)v(1e7,0),r-=7;for(v(l(10,r,1),0),r=t-1;r>=23;)b(1<<23),r-=23;b(1<<r),v(1,1),b(2),h=m()}else v(0,n),v(1<<-t,0),h=m()+a.call("0",d);return h=d>0?p+((c=h.length)<=d?"0."+a.call("0",d-c)+h:h.slice(0,c-d)+"."+h.slice(c-d)):p+h}})},xfbP:function(e,t,n){"use strict";var r=n("lSNA"),o=n.n(r),i=n("nKUr"),a=n("lwsE"),c=n.n(a),s=n("W8MJ"),u=n.n(s),l=n("7W2i"),d=n.n(l),f=n("a1gu"),p=n.n(f),h=n("Nsbk"),v=n.n(h),b=n("q1tI"),m=n.n(b),g=n("kMSe"),y=n("n4oF"),j=n("lN2P");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}t.a=function(e){return function(t){var n;return Object(g.c)("site")(n=function(n){d()(a,n);var r=w(a);function a(t){var n;if(c()(this,a),(n=r.call(this,t)).getCurrentMode=function(){return"none"!==n.props.site.wechatEnv?"weixin":n.props.site.isSmsOpen?"mobile":"user"},Object(y.a)())return p()(n);var o=n.getCurrentMode();return"weixin"===e&&"weixin"!==o&&j.a.saveAndLogin(),"phone"===e&&("user"!==o||n.props.site.isSmsOpen||j.a.saveAndLogin()),"user"===e&&"user"!==o&&j.a.saveAndLogin(),"register"===e&&"user"!==o&&j.a.saveAndLogin(),n}return u()(a,[{key:"render",value:function(){return Object(i.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}]),a}(m.a.Component))||n}}},yq1k:function(e,t,n){"use strict";var r=n("I+eb"),o=n("TWQb").includes,i=n("RNIs");r({target:"Array",proto:!0,forced:!n("rkAj")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},z6Ap:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));n("TeQF"),n("QWBl"),n("yXV3"),n("sMBO"),n("B6y2"),n("FZtP"),n("R5XZ");var r=n("RIqP"),o=n.n(r),i=(n("q1tI"),arguments),a=void 0,c=function(){},s=function(e,t){var n;return function(){var r=a,c=o()(i);n&&clearTimeout(n);var s=!n;n=setTimeout((function(){n=null}),t),s&&e.apply(r,c)}},u=function(e){var t={text:(null===e||void 0===e?void 0:e.text)||"",plugin:{}};return Object.values((null===e||void 0===e?void 0:e.indexes)||{}).forEach((function(e){var n=e.tomId,r=e.threadId,o=(n="".concat(n))?""+n:"NULL";if("101"===o)t.imageData=e.body;else if("102"===o)t.audioData=e.body;else if("103"===o)t.videoData=e.body;else if("104"===o)t.goodsData=e.body;else if("105"===o)t.qaData=e.body;else if("106"===o)t.redPacketData=e.body;else if("107"===o)t.rewardData=e.body;else if("108"===o)t.fileData=e.body;else if("109"===o)t.voteData=e.body;else if("10002"===o)t.iframeData=e.body;else{var i=e.tomId,a=e.body,c=e._plugin,s=void 0===c?{}:c;s&&(t.plugin[null===s||void 0===s?void 0:s.name]={tomId:i,body:a,_plugin:s})}t.threadId=r})),t},l=["7Z","AI","APK","CAD","CDR","DOC","DOCX","EPS","EXE","IPA","MP3","MP4","PDF","PPT","PSD","RAR","TXT","XLS","XLSX","ZIP","JPG","WAV"],d=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}},zDaA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("n4oF");function o(e){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?"h5":"pc";if(!Object(r.a)()){var n=90===Math.abs(window.orientation),o=window.innerWidth;"pc"===t&&o<800&&(t="h5"),"h5"===t&&!n&&o>=800&&(t="pc")}return t}},zLVW:function(e,t,n){"use strict";var r=n("TqRt"),o=n("cDf5");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonWebLayout=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=n("VTYn"),p=r(n("TSYQ")),h=r(n("jqTq"));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=b(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).state={isMouseDown:!1,isMouseEnter:!1},r}return(0,a.default)(n,[{key:"onClick",value:function(e){this.props.loading||this.props.disabled||this.props.onClick&&this.props.onClick(e)}},{key:"onMouseLeave",value:function(e){this.setState({isMouseEnter:!1})}},{key:"onMouseEnter",value:function(e){this.props.disabled||this.setState({isMouseEnter:!0})}},{key:"onMouseDown",value:function(e){this.props.disabled||this.setState({isMouseDown:!0})}},{key:"onMouseUp",value:function(e){var t=this;setTimeout((function(){t.setState({isMouseDown:!1})}),50)}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=void 0===n?"medium":n,o=t.type,i=t.htmlType,a=t.disabled,c=t.loading,s=t.style,u=t.className,l=t.circle,f=t.full,v=this.context.clsPrefix,b="".concat(v,"-button"),m=(0,p.default)(b,u,r&&"".concat(b,"--").concat(r),o&&"".concat(b,"--").concat(o),{"is-full":f,"is-loading":c,"is-disabled":a,"is-circle":l,"is-mousedown":this.state.isMouseDown,"is-mouseenter":this.state.isMouseEnter});return d.default.createElement("button",{style:s,className:m,type:i,onClick:this.onClick.bind(this),onMouseEnter:function(t){return e.onMouseEnter(t)},onMouseLeave:function(t){return e.onMouseLeave(t)},onMouseDown:function(t){return e.onMouseDown(t)},onMouseUp:function(t){return e.onMouseUp(t)}},c&&d.default.createElement(h.default,{type:"spinner",size:16}),this.props.children)}}]),n}(d.Component);t.ButtonWebLayout=m,(0,l.default)(m,"contextType",f.ConfigContext)},zVgw:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=(n("ls82"),n("yXPU")),a=n.n(i),c=n("q1tI"),s=n.n(c),u=n("B5JU"),l=n.n(u),d=function(){};t.a=function(e){var t=e.jumpUrl,n=void 0===t?"":t,r=e.beforeJump,i=void 0===r?d:r,c=e.afterJump,u=void 0===c?d:c;return s.a.useEffect(a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return l.a.redirect({url:n}),e.abrupt("return",a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)}))),[]),null}}},[["63fP",1,0,3,4,2]]]);